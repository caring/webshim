jQuery.webshims.register("form-extend",function(a,c,l,m,t,h){l=l.Modernizr;t=l.inputtypes;if(l.formvalidation&&!c.bugs.bustedValidity){var g=c.inputTypes,s={};c.addInputType=function(e,b){g[e]=b};c.addValidityRule=function(e,b){s[e]=b};c.addValidityRule("typeMismatch",function(e,b,f,a){if(""===b)return!1;a=a.typeMismatch;if(!("type"in f))f.type=(e[0].getAttribute("type")||"").toLowerCase();g[f.type]&&g[f.type].mismatch&&(a=g[f.type].mismatch(b,e));return a});var n=h.overrideMessages,o=!t.number||
!t.time||!t.range||n,v="customError,typeMismatch,rangeUnderflow,rangeOverflow,stepMismatch,tooLong,patternMismatch,valueMissing,valid".split(","),h=n?["value","checked"]:["value"],p=[],j=function(e,b){if(e){var f=(e.getAttribute&&e.getAttribute("type")||e.type||"").toLowerCase();if(n||g[f])n&&!b&&"radio"==f&&e.name?a(m.getElementsByName(e.name)).each(function(){a.prop(this,"validity")}):a.prop(e,"validity")}},r={};["input","textarea","select"].forEach(function(e){var b=c.defineNodeNameProperty(e,
"setCustomValidity",{prop:{value:function(f){var f=f+"",i="input"==e?a(this).getNativeElement()[0]:this;b.prop._supvalue.call(i,f);c.bugs.validationMessage&&c.data(i,"customvalidationMessage",f);o&&(c.data(i,"hasCustomError",!!f),j(i))}}});r[e]=b.prop._supvalue});if(o||n)h.push("min"),h.push("max"),h.push("step"),p.push("input");n&&(h.push("required"),h.push("pattern"),p.push("select"),p.push("textarea"));if(o){var u;p.forEach(function(e){var b=c.defineNodeNameProperty(e,"validity",{prop:{get:function(){if(!u){var f=
"input"==e?a(this).getNativeElement()[0]:this,i=b.prop._supget.call(f);if(!i)return i;var d={};v.forEach(function(e){d[e]=i[e]});if(!a.prop(f,"willValidate"))return d;u=!0;var k=a(f),h={type:(f.getAttribute&&f.getAttribute("type")||"").toLowerCase(),nodeName:(f.nodeName||"").toLowerCase()},q=k.val(),x=!!c.data(f,"hasCustomError"),w;u=!1;d.customError=x;if(d.valid&&d.customError)d.valid=!1;else if(!d.valid){var j=!0;a.each(d,function(e,f){if(f)return j=!1});if(j)d.valid=!0}a.each(s,function(b,a){d[b]=
a(k,q,h,d);if(d[b]&&(d.valid||!w)&&(n||g[h.type]&&g[h.type].mismatch))r[e].call(f,c.createValidationMessage(f,b)),d.valid=!1,w=!0});d.valid?(r[e].call(f,""),c.data(f,"hasCustomError",!1)):n&&!w&&!x&&a.each(d,function(b,a){if("valid"!==b&&a)return r[e].call(f,c.createValidationMessage(f,b)),!1});return d}},writeable:!1}})});h.forEach(function(e){c.onNodeNamesPropertyModify(p,e,function(){j(this)})});if(m.addEventListener){var i,k=function(e){if("form"in e.target){var b=e.target.form;clearTimeout(i);
j(e.target);b&&n&&a("input",b).each(function(){"password"==this.type&&j(this)})}};m.addEventListener("change",k,!0);n&&(m.addEventListener("blur",k,!0),m.addEventListener("keydown",function(e){13==e.keyCode&&k(e)},!0));m.addEventListener("input",function(e){clearTimeout(i);i=setTimeout(function(){j(e.target)},290)},!0)}var d=p.join(",");c.addReady(function(e,b){a(d,e).add(b.filter(d)).each(function(){a.prop(this,"validity")})});n&&c.ready("DOM form-message",function(){c.activeLang({register:"form-core",
callback:function(){a("input, select, textarea").getNativeElement().each(function(){if(!c.data(this,"hasCustomError")){var e=this,b=a.prop(e,"validity")||{valid:!0},f;b.valid||(f=(e.nodeName||"").toLowerCase(),a.each(b,function(b,a){if("valid"!==b&&a)return r[f].call(e,c.createValidationMessage(e,b)),!1}))}})}})})}c.defineNodeNameProperty("input","type",{prop:{get:function(){var e=(this.getAttribute("type")||"").toLowerCase();return c.inputTypes[e]?e:this.type}}});l.input.list&&!(a("<datalist><select><option></option></select></datalist>").prop("options")||
[]).length&&c.defineNodeNameProperty("datalist","options",{prop:{writeable:!1,get:function(){var e=this.options||[];if(!e.length){var b=a("select",this);if(b[0]&&b[0].options&&b[0].options.length)e=b[0].options}return e}}})}});
jQuery.webshims.register("form-number-date-api",function(a,c){var l,m,t;if(!c.getStep)c.getStep=function(i,c){var d=a.attr(i,"step");if("any"===d)return d;c=c||o(i);if(!g[c]||!g[c].step)return d;d=l.asNumber(d);return(!isNaN(d)&&0<d?d:g[c].step)*g[c].stepScaleFactor};if(!c.addMinMaxNumberToCache)c.addMinMaxNumberToCache=function(a,c,d){a+"AsNumber"in d||(d[a+"AsNumber"]=g[d.type].asNumber(c.attr(a)),isNaN(d[a+"AsNumber"])&&a+"Default"in g[d.type]&&(d[a+"AsNumber"]=g[d.type][a+"Default"]))};var h=
parseInt("NaN",10),g=c.inputTypes,s=function(a){return"number"==typeof a||a&&a==1*a},n=function(i){return a('<input type="'+i+'" />').prop("type")===i},o=function(a){return(a.getAttribute("type")||"").toLowerCase()},v=c.addMinMaxNumberToCache,p=function(a,c){for(var a=""+a,c=c-a.length,d=0;d<c;d++)a="0"+a;return a},j=c.bugs.valueAsNumberSet||c.bugs.bustedValidity;c.addValidityRule("stepMismatch",function(a,k,d,e){if(""===k)return!1;if(!("type"in d))d.type=o(a[0]);if("date"==d.type)return!1;e=(e||
{}).stepMismatch;if(g[d.type]&&g[d.type].step){if(!("step"in d))d.step=c.getStep(a[0],d.type);if("any"==d.step)return!1;if(!("valueAsNumber"in d))d.valueAsNumber=g[d.type].asNumber(k);if(isNaN(d.valueAsNumber))return!1;v("min",a,d);a=d.minAsNumber;isNaN(a)&&(a=g[d.type].stepBase||0);e=Math.abs((d.valueAsNumber-a)%d.step);e=!(1.0E-7>=e||1.0E-7>=Math.abs(e-d.step))}return e});[{name:"rangeOverflow",attr:"max",factor:1},{name:"rangeUnderflow",attr:"min",factor:-1}].forEach(function(a){c.addValidityRule(a.name,
function(c,d,e,b){b=(b||{})[a.name]||!1;if(""===d)return b;if(!("type"in e))e.type=o(c[0]);if(g[e.type]&&g[e.type].asNumber){if(!("valueAsNumber"in e))e.valueAsNumber=g[e.type].asNumber(d);if(isNaN(e.valueAsNumber))return!1;v(a.attr,c,e);if(isNaN(e[a.attr+"AsNumber"]))return b;b=e[a.attr+"AsNumber"]*a.factor<e.valueAsNumber*a.factor-1.0E-7}return b})});c.reflectProperties(["input"],["max","min","step"]);var r=c.defineNodeNameProperty("input","valueAsNumber",{prop:{get:function(){var c=o(this),c=g[c]&&
g[c].asNumber?g[c].asNumber(a.prop(this,"value")):r.prop._supget&&r.prop._supget.apply(this,arguments);null==c&&(c=h);return c},set:function(i){var k=o(this);g[k]&&g[k].numberToString?isNaN(i)?a.prop(this,"value",""):(k=g[k].numberToString(i),!1!==k?a.prop(this,"value",k):c.warn("INVALID_STATE_ERR: DOM Exception 11")):r.prop._supset&&r.prop._supset.apply(this,arguments)}}}),u=c.defineNodeNameProperty("input","valueAsDate",{prop:{get:function(){var c=o(this);return g[c]&&g[c].asDate&&!g[c].noAsDate?
g[c].asDate(a.prop(this,"value")):u.prop._supget&&u.prop._supget.call(this)||null},set:function(i){var k=o(this);if(g[k]&&g[k].dateToString&&!g[k].noAsDate){if(null===i)return a.prop(this,"value",""),"";k=g[k].dateToString(i);if(!1!==k)return a.prop(this,"value",k),k;c.warn("INVALID_STATE_ERR: DOM Exception 11")}else return u.prop._supset&&u.prop._supset.apply(this,arguments)||null}}});l={mismatch:function(a){return!s(a)},step:1,stepScaleFactor:1,asNumber:function(a){return s(a)?1*a:h},numberToString:function(a){return s(a)?
a:!1}};m={minDefault:0,maxDefault:100};t={mismatch:function(c){if(!c||!c.split||!/\d$/.test(c))return!0;var g=c.split(/\u002D/);if(3!==g.length)return!0;var d=!1;a.each(g,function(a,b){if(!(s(b)||b&&b=="0"+1*b))return d=!0,!1});if(d)return d;if(4!==g[0].length||2!=g[1].length||12<g[1]||2!=g[2].length||33<g[2])d=!0;return c!==this.dateToString(this.asDate(c,!0))},step:1,stepScaleFactor:864E5,asDate:function(a,c){return!c&&this.mismatch(a)?null:new Date(this.asNumber(a,!0))},asNumber:function(a,c){var d=
h;if(c||!this.mismatch(a))a=a.split(/\u002D/),d=Date.UTC(a[0],a[1]-1,a[2]);return d},numberToString:function(a){return s(a)?this.dateToString(new Date(1*a)):!1},dateToString:function(a){return a&&a.getFullYear?a.getUTCFullYear()+"-"+p(a.getUTCMonth()+1,2)+"-"+p(a.getUTCDate(),2):!1}};if(j||!n("range")||!n("time"))m=a.extend({},l,m);(j||!n("number"))&&c.addInputType("number",l);(j||!n("range"))&&c.addInputType("range",m);(j||!n("date"))&&c.addInputType("date",t)});
jQuery.webshims.register("form-number-date-ui",function(a,c,l,m,t,h){var g=c.triggerInlineForm,s=Modernizr.inputtypes,n=function(){var a={"padding-box":"innerWidth","border-box":"outerWidth","content-box":"width"},b=Modernizr.prefixed&&Modernizr.prefixed("boxSizing");return function(f,c){var d,g,h;g="width";b&&(g=a[f.css(b)]||g);d=f[g]();g="width"==g;if(d){var q=parseInt(c.css("marginLeft"),10)||0,j=c.outerWidth();(h=parseInt(f.css("marginRight"),10)||0)&&f.css("marginRight",0);q<=-1*j?(c.css("marginRight",
Math.floor(Math.abs(j+q)+h)),f.css("paddingRight",(parseInt(f.css("paddingRight"),10)||0)+Math.abs(q)),g&&f.css("width",Math.floor(d+q))):(c.css("marginRight",h),f.css("width",Math.floor(d-q-j)))}}}(),o={},v=a([]),p,j=function(e,b){a("input",e).add(b.filter("input")).each(function(){var e=a.prop(this,"type");if(j[e]&&!c.data(this,"shadowData"))j[e](a(this))})},r=function(e,b){if(h.lazyDate){var f=a.data(e[0],"setDateLazyTimer");f&&clearTimeout(f);a.data(e[0],"setDateLazyTimer",setTimeout(function(){e.datepicker("setDate",
b);a.removeData(e[0],"setDateLazyTimer");e=null},0))}else e.datepicker("setDate",b)};if(h.lazyDate===t)try{h.lazyDate=a.browser.msie&&9>c.browserVersion||500>a(l).width()&&500>a(l).height()}catch(u){}var i={tabindex:1,tabIndex:1,title:1,"aria-required":1,"aria-invalid":1};if(!h.copyAttrs)h.copyAttrs={};c.extendUNDEFProp(h.copyAttrs,i);j.common=function(e,b,f){Modernizr.formvalidation&&e.bind("firstinvalid",function(a){(c.fromSubmit||!p)&&e.unbind("invalid.replacedwidgetbubble").bind("invalid.replacedwidgetbubble",
function(b){!a.isInvalidUIPrevented()&&!b.isDefaultPrevented()&&(c.validityAlert.showFor(a.target),a.preventDefault(),b.preventDefault());e.unbind("invalid.replacedwidgetbubble")})});var d,g,j=a("input, span.ui-slider-handle",b),k=e[0].attributes;for(d in h.copyAttrs)if((g=k[d])&&g.specified)i[d]&&j[0]?j.attr(d,g.nodeValue):b[0].setAttribute(d,g.nodeValue);g=e.attr("id");d=h.calculateWidth?{css:{marginRight:e.css("marginRight"),marginLeft:e.css("marginLeft")},outerWidth:e.outerWidth()}:{};d.label=
g?a('label[for="'+g+'"]',e[0].form):v;g=c.getID(d.label);b.addClass(e[0].className);c.addShadowDom(e,b,{data:f||{},shadowFocusElement:a("input.input-datetime-local-date, span.ui-slider-handle",b)[0],shadowChilds:j});e.after(b).hide();e[0].form&&a(e[0].form).bind("reset",function(a){a.originalEvent&&!a.isDefaultPrevented()&&setTimeout(function(){e.prop("value",e.prop("value"))},0)});1==b.length&&!a("*",b)[0]&&(b.attr("aria-labelledby",g),d.label.bind("click",function(){b.focus();return!1}));return d};
Modernizr.formvalidation&&["input","form"].forEach(function(a){var b=c.defineNodeNameProperty(a,"checkValidity",{prop:{value:function(){p=!0;var a=b.prop._supvalue.apply(this,arguments);p=!1;return a}}})});if(!s.date||h.replaceUI){var k=function(e,b,f,d){var g,j,k=function(){q.dpDiv.unbind("mousedown.webshimsmousedownhandler");j=g=!1},q=b.bind("focusin",function(){k();q.dpDiv.unbind("mousedown.webshimsmousedownhandler").bind("mousedown.webshimsmousedownhandler",function(){g=!0})}).bind("focusout blur",
function(a){g&&(j=!0,a.stopImmediatePropagation())}).datepicker(a.extend({onClose:function(){j&&b.not(":focus")?(k(),b.trigger("focusout"),b.triggerHandler("blur")):k()}},o,h.datepicker,e.data("datepicker"))).bind("change",f).data("datepicker");q.dpDiv.addClass("input-date-datepicker-control");d&&c.triggerDomUpdate(d[0]);["disabled","min","max","value","step"].forEach(function(a){var b=e.prop(a);""!==b&&("disabled"!=a||!b)&&e.prop(a,b)});return q},d=function(a,b){var f;b.dateFormat&&(f=b.dateFormat.replace(/y+/g,
"Year").replace(/(d+|o+|D+)/g,"Day").replace(/(m+|M+)/g,"Month"),a.attr("placeholder",f))};j.date=function(e){if(a.fn.datepicker){var b=a('<input class="input-date" type="text" />'),f=this.common(e,b,j.date.attrs),c=k(e,b,function(c){j.date.blockAttr=!0;var f;if(h.lazyDate){var d=a.data(b[0],"setDateLazyTimer");d&&(clearTimeout(d),a.removeData(b[0],"setDateLazyTimer"))}try{f=(f=a.datepicker.parseDate(b.datepicker("option","dateFormat"),b.prop("value")))?a.datepicker.formatDate("yy-mm-dd",f):b.prop("value")}catch(q){f=
b.prop("value")}e.prop("value",f);j.date.blockAttr=!1;c.stopImmediatePropagation();g(e[0],"input");g(e[0],"change")});d(b,c.settings);f.css&&(b.css(f.css),f.outerWidth&&b.outerWidth(f.outerWidth),c.trigger[0]&&n(b,c.trigger))}};j.date.attrs={disabled:function(e,b,f){a.prop(b,"disabled",!!f)},min:function(e,b,f){try{f=a.datepicker.parseDate("yy-mm-dd",f)}catch(c){f=!1}f&&a(b).datepicker("option","minDate",f)},max:function(e,b,f){try{f=a.datepicker.parseDate("yy-mm-dd",f)}catch(c){f=!1}f&&a(b).datepicker("option",
"maxDate",f)},value:function(e,b,f){if(!j.date.blockAttr){try{var c=a.datepicker.parseDate("yy-mm-dd",f)}catch(d){c=!1}c?r(a(b),c):a.prop(b,"value",f)}}}}if(!s.range||h.replaceUI)j.range=function(e){if(a.fn.slider){var b=a('<span class="input-range"><span class="ui-slider-handle" role="slider" tabindex="0" /></span>'),c=this.common(e,b,j.range.attrs);a("span",b).attr("aria-labelledby",c.label.attr("id"));c.label.bind("click",function(){a("span",b).focus();return!1});c.css&&(b.css(c.css),c.outerWidth&&
b.outerWidth(c.outerWidth));b.slider(a.extend(!0,{},h.slider,e.data("slider"))).bind("slide",function(a,b){if(a.originalEvent)j.range.blockAttr=!0,e.prop("value",b.value),j.range.blockAttr=!1,g(e[0],"input"),g(e[0],"change")});["disabled","min","max","step","value"].forEach(function(b){var c=e.attr(b),f;"value"==b&&!c&&(f=e.getShadowElement())&&(c=(a(f).slider("option","max")-a(f).slider("option","min"))/2);null!=c&&e.attr(b,c)})}},j.range.attrs={disabled:function(c,b,f){f=!!f;a(b).slider("option",
"disabled",f);a("span",b).attr({"aria-disabled":f+"",tabindex:f?"-1":"0"})},min:function(c,b,f){f=f?1*f||0:0;a(b).slider("option","min",f);a("span",b).attr({"aria-valuemin":f})},max:function(c,b,f){f=f||0===f?1*f||100:100;a(b).slider("option","max",f);a("span",b).attr({"aria-valuemax":f})},value:function(c,b,f){f=a(c).prop("valueAsNumber");isNaN(f)||(j.range.blockAttr||a(b).slider("option","value",f),a("span",b).attr({"aria-valuenow":f,"aria-valuetext":f}))},step:function(c,b,f){f=f&&a.trim(f)?1*
f||1:1;a(b).slider("option","step",f)}};if(!c.bugs.valueAsNumberSet&&(h.replaceUI||!Modernizr.inputtypes.date||!Modernizr.inputtypes.range))l=function(){c.data(this,"hasShadow")&&a.prop(this,"value",a.prop(this,"value"))},c.onNodeNamesPropertyModify("input","valueAsNumber",l),c.onNodeNamesPropertyModify("input","valueAsDate",l);a.each(["disabled","min","max","value","step"],function(a,b){c.onNodeNamesPropertyModify("input",b,function(a){var e=c.data(this,"shadowData");if(e&&e.data&&e.data[b]&&e.nativeElement===
this)e.data[b](this,e.shadowElement,a)})});if(!h.availabeLangs)h.availabeLangs="af ar ar-DZ az bg bs ca cs da de el en-AU en-GB en-NZ eo es et eu fa fi fo fr fr-CH gl he hr hu hy id is it ja ko kz lt lv ml ms nl no pl pt-BR rm ro ru sk sl sq sr sr-SR sv ta th tr uk vi zh-CN zh-HK zh-TW".split(" ");l=function(){a.datepicker&&(c.activeLang({langObj:a.datepicker.regional,module:"form-number-date-ui",callback:function(c){a("input.hasDatepicker").filter(".input-date, .input-datetime-local-date").datepicker("option",
a.extend(o,c,h.datepicker))}}),a(m).unbind("jquery-uiReady.langchange input-widgetsReady.langchange"))};a(m).bind("jquery-uiReady.langchange input-widgetsReady.langchange",l);l();(function(){var e=function(){var c={};return function(b){return b in c?c[b]:c[b]=a('<input type="'+b+'" />')[0].type===b}}();if(!e("number")){var b=c.cfg["forms-ext"],f=c.inputTypes,d=function(b,e,d){d=d||{};if(!("type"in d))d.type=a.prop(b,"type");if(!("step"in d))d.step=c.getStep(b,d.type);if(!("valueAsNumber"in d))d.valueAsNumber=
f[d.type].asNumber(a.prop(b,"value"));var g="any"==d.step?f[d.type].step*f[d.type].stepScaleFactor:d.step;c.addMinMaxNumberToCache("min",a(b),d);c.addMinMaxNumberToCache("max",a(b),d);if(isNaN(d.valueAsNumber))d.valueAsNumber=f[d.type].stepBase||0;if("any"!==d.step&&(b=Math.round(1E7*((d.valueAsNumber-(d.minAsnumber||0))%d.step))/1E7)&&Math.abs(b)!=d.step)d.valueAsNumber-=b;b=d.valueAsNumber+g*e;return b=!isNaN(d.minAsNumber)&&b<d.minAsNumber?d.valueAsNumber*e<d.minAsNumber?d.minAsNumber:isNaN(d.maxAsNumber)?
d.valueAsNumber:d.maxAsNumber:!isNaN(d.maxAsNumber)&&b>d.maxAsNumber?d.valueAsNumber*e>d.maxAsNumber?d.maxAsNumber:isNaN(d.minAsNumber)?d.valueAsNumber:d.minAsNumber:Math.round(1E7*b)/1E7};c.modules["form-number-date-ui"].getNextStep=d;var j=function(b,c,e){if(!b.disabled&&!b.readOnly&&!a(e).hasClass("step-controls")&&(a.prop(b,"value",f[c].numberToString(d(b,a(e).hasClass("step-up")?1:-1,{type:c}))),a(b).unbind("blur.stepeventshim"),g(b,"input"),m.activeElement)){if(m.activeElement!==b)try{b.focus()}catch(j){}setTimeout(function(){if(m.activeElement!==
b)try{b.focus()}catch(c){}a(b).one("blur.stepeventshim",function(){g(b,"change")})},0)}};if(b.stepArrows){var h={set:function(){var a=c.data(this,"step-controls");if(a)a[this.disabled||this.readonly?"addClass":"removeClass"]("disabled-step-control")}};c.onNodeNamesPropertyModify("input","disabled",h);c.onNodeNamesPropertyModify("input","readonly",a.extend({},h))}var k={38:1,40:-1};c.addReady(function(h,i){b.stepArrows&&a("input",h).add(i.filter("input")).each(function(){var h=a.prop(this,"type");
if(f[h]&&f[h].asNumber&&b.stepArrows&&!(!0!==b.stepArrows&&!b.stepArrows[h]||e(h)||a(i).hasClass("has-step-controls"))){var i=this,l=a('<span class="step-controls" unselectable="on"><span class="step-up" /><span class="step-down" /></span>').insertAfter(i).bind("selectstart dragstart",function(){return!1}).bind("mousedown mousepress",function(a){j(i,h,a.target);return!1}).bind("mousepressstart mousepressend",function(b){a(b.target)["mousepressstart"==b.type?"addClass":"removeClass"]("mousepress-ui")}),
m=function(b,c){if(!i.disabled&&!i.readOnly)return a.prop(i,"value",f[h].numberToString(d(i,c,{type:h}))),g(i,"input"),!1},o=a(i).addClass("has-step-controls").attr({readonly:i.readOnly,disabled:i.disabled,autocomplete:"off",role:"spinbutton"}).bind(a.browser.msie?"keydown":"keypress",function(b){if(!i.disabled&&!i.readOnly&&k[b.keyCode])return a.prop(i,"value",f[h].numberToString(d(i,k[b.keyCode],{type:h}))),g(i,"input"),!1});a.fn.mwheelIntent?o.add(l).bind("mwheelIntent",m):o.bind("focus",function(){o.add(l).unbind(".mwhellwebshims").bind("mousewheel.mwhellwebshims",
m)}).bind("blur",function(){a(i).add(l).unbind(".mwhellwebshims")});c.data(i,"step-controls",l);b.calculateWidth&&(n(o,l),l.css("marginTop",(o.outerHeight()-l.outerHeight())/2))}})})}})();c.addReady(function(d,b){a(m).bind("jquery-uiReady.initinputui input-widgetsReady.initinputui",function(){(a.datepicker||a.fn.slider)&&j(d,b);a.datepicker&&a.fn.slider?a(m).unbind(".initinputui"):c.modules["input-widgets"].src||c.warn('jQuery UI Widget factory is already included, but not datepicker or slider. configure src of $.webshims.modules["input-widgets"].src')})})});
